<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="qna">

<select id="selectQnaList" parameterType="hashmap" resultType="hashmap"> 
	<![CDATA[
	SELECT
		ROW_NUMBER() OVER (ORDER BY QNA_NUM DESC) RNUM,
		QNA_NUM,
		QNA_TITLE,
		QNA_CONTENT,
		QNA_DATE,
		RES_STATE
	FROM
		QNA 
	]]>
</select>

<select id="selectQnaDetail" parameterType="hashmap" resultType="hashmap"> 
	<![CDATA[
	SELECT
		MEM_ID,
		QNA_TITLE,
		QNA_CONTENT,
		QNA_DATE,
		RES_TITLE,
		RES_CONTENT
	FROM
		QNA
	WHERE
		QNA_NUM = #{QNA_NUM}
	]]>
</select>

<select id="updateQna" parameterType="hashmap"> 
	<![CDATA[
	UPDATE QNA
	SET
		RES_TITLE = #{RES_TITLE},
		RES_CONTENT = #{RES_CONTENT},
		RES_DATE = sysdate,
		RES_STATE ='y'
	WHERE QNA_NUM = #{QNA_NUM}
	]]>
</select>	

<select id="deleteQna" parameterType="hashmap"> 
	<![CDATA[
	DELETE QNA
	WHERE QNA_NUM = #{QNA_NUM}
	]]>
</select>
</mapper>